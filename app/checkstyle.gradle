apply plugin: 'checkstyle'

checkstyle {
    toolVersion '8.29'
    ignoreFailures false
    showViolations true
}

task checkstyle(type: Checkstyle) {
    group 'verification'

    config project.resources.text.fromUri(
            'https://raw.githubusercontent.com/fartem/repository-rules/master/rules/java/checkstyle/checkstyle.xml'
    )
    source rootProject.file('app/src/main/java')
    classpath = files()

    reports {
        xml.enabled true
        xml.destination rootProject.file('checkstyle-result.xml')
    }
}

build.dependsOn 'checkstyle'
